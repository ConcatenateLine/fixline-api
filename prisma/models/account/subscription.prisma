model Subscription {
  id                 String   @id @default(uuid())
  provider           String   // stripe, paddle, etc.
  customerId         String   // provider customer id
  subscriptionId     String   @unique
  priceId            String
  status             SubscriptionStatus // e.g., ACTIVE, PAST_DUE, CANCELED
  periodStart        DateTime?
  periodEnd          DateTime?

  accountId          String
  account            Account  @relation(fields: [accountId], references: [id])

  planId             String
  plan               Plan     @relation(fields: [planId], references: [id])

  billingEvents      BillingEvent[]

  @@index([accountId, planId])
}
